import{t as rs,c as ns,r as o,j as e,P as ls,C as oe,R as is,T as os,S as cs,a as K,b as ce,I as de,F as me,d as G,e as k,u as A,f as R,g as C,L,U as ds,h as ms,i as ps,k as xs,l as h,m as pe,B as hs,n as xe,o as he,p as us,q as fs,s as ue,v as gs,w as js,A as fe,x as ys,O as ge,y as Ns,z as je,D as bs,X as vs,E as ye,G as Ne,H as ws,J as be,K as W,M as Cs,N as Ss,Q as Z,V as As,W as ks,Y as X,Z as ve,_ as Ps,$ as Rs,a0 as Ts,a1 as we,a2 as Ls,a3 as Ce,a4 as Se,a5 as Es,a6 as Ae,a7 as Ds,a8 as ke,a9 as Is,aa as Pe,ab as Re,ac as Js,ad as $s,ae as _s,af as Te,ag as Fs,ah as Bs,ai as zs,aj as Hs,ak as Us,al as P,am as Os,an as qs,ao as Gs,ap as Ms,aq as Vs,ar as Ys,as as Qs,at as Ks,au as Ws,av as Zs,aw as Xs,ax as ea,ay as sa,az as aa,aA as ta}from"./vendor-DJVQ04qU.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=a(r);fetch(r.href,l)}})();function x(...s){return rs(ns(s))}const ee=is,se=os,ae=o.forwardRef(({className:s,align:t="center",sideOffset:a=4,...n},r)=>e.jsx(ls,{children:e.jsx(oe,{ref:r,align:t,sideOffset:a,className:x("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}));ae.displayName=oe.displayName;const ra=K("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=o.forwardRef(({className:s,variant:t,size:a,asChild:n=!1,...r},l)=>{const i=n?cs:"button";return e.jsx(i,{className:x(ra({variant:t,size:a,className:s})),ref:l,...r})});y.displayName="Button";const F=o.forwardRef(({className:s,...t},a)=>e.jsx(ce,{ref:a,className:x("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));F.displayName=ce.displayName;const B=o.forwardRef(({className:s,...t},a)=>e.jsx(de,{ref:a,className:x("aspect-square h-full w-full",s),...t}));B.displayName=de.displayName;const na=o.forwardRef(({className:s,...t},a)=>e.jsx(me,{ref:a,className:x("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));na.displayName=me.displayName;const Le=G({name:"auth",initialState:{loading:!1,user:null},reducers:{setLoading:(s,t)=>{s.loading=t.payload},setUser:(s,t)=>{s.user=t.payload}}}),{setLoading:q,setUser:te}=Le.actions,la=Le.reducer,ia=k.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"},withCredentials:!0}),Ee=ia;function oa(){var d;const s=A(),t=R(),{user:a}=C(m=>m.auth),[n,r]=o.useState("light"),l=async()=>{var m,c;try{(await Ee.get("/user/logout",{withCredentials:!0})).data.success&&(s(te(null)),t("/home"),h.success("Logged Out Successfully",{className:"success"}))}catch(p){console.log(p),h.error(((c=(m=p.response)==null?void 0:m.data)==null?void 0:c.message)||"Logout failed",{className:"error"})}},i=()=>{r(m=>m==="light"?"dark":"light")};return o.useEffect(()=>{const m=localStorage.getItem("theme");m&&r(m)},[]),o.useEffect(()=>{localStorage.setItem("theme",n),n==="dark"?(document.body.classList.add("dark-mode"),document.body.classList.remove("light-mode")):(document.body.classList.add("light-mode"),document.body.classList.remove("dark-mode"))},[n]),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between mx-auto max-w-7xl h-16  px-4 top-0 left-0 right-0",children:[a&&a.role==="recruiter"?e.jsx(L,{to:"/admin/companies",children:e.jsx("div",{className:"cursor-pointer",children:e.jsxs("h1",{className:"text-2xl font-bold",children:[e.jsx("span",{className:"text-red-600",children:"E"}),e.jsx("span",{children:"Ai"})]})})}):e.jsx(L,{to:"/",children:e.jsx("div",{className:"cursor-pointer",children:e.jsxs("h1",{className:"text-2xl font-bold",children:[e.jsx("span",{className:"text-red-600",children:"E"}),e.jsx("span",{children:"Ai"})]})})}),e.jsxs("div",{className:"flex gap-5 items-center",children:[e.jsx("ul",{className:"flex gap-12 font-medium items-center ",children:a&&a.role==="recruiter"?e.jsxs(e.Fragment,{children:[e.jsx(L,{to:"/admin/companies",children:e.jsx("li",{children:"Companies"})}),e.jsx(L,{to:"/admin/job",children:e.jsx("li",{children:"Jobs"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{to:"/",children:e.jsx("li",{children:"Home"})}),e.jsx(L,{to:"/jobs",children:e.jsx("li",{children:"Jobs"})}),e.jsx(L,{to:"/browser",children:e.jsx("li",{children:"Browse"})}),e.jsx(L,{to:"/chatGPT",children:e.jsx("li",{children:"GPT"})})]})}),a?e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(F,{className:"cursor-pointer ",children:e.jsx(B,{src:(a==null?void 0:a.avatar)||"https://png.pngtree.com/png-clipart/20240321/original/pngtree-avatar-job-student-flat-portrait-of-man-png-image_14639683.png"})})}),e.jsxs(ae,{className:"w-72 p-4 space-y-4   bg-white/20 shadow-xl backdrop-blur-[4px] rounded-b-xl ",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(F,{className:"cursor-pointer",children:e.jsx(B,{src:(a==null?void 0:a.avatar)||"https://png.pngtree.com/png-clipart/20240321/original/pngtree-avatar-job-student-flat-portrait-of-man-png-image_14639683.png"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-500",children:(a==null?void 0:a.fullname)||"User Name"}),e.jsx("p",{className:"text-sm text-muted-foreground text-red-500",children:((d=a==null?void 0:a.profile)==null?void 0:d.bio)||"Your bio goes here..."})]})]}),e.jsxs("div",{className:"flex flex-col  ",children:[a&&a.role==="student"&&e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(ds,{className:"text-2xl  text-green-600"}),e.jsx(y,{variant:"link",className:"text-green-600 text-sm bg-transparent hover:bg-transparent hover:no-underline",children:e.jsx(L,{to:"/Profile",children:"View Profile"})})]}),e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(ms,{className:"text-2xl text-red-600"}),e.jsx(y,{variant:"link",className:"text-sm text-red-600 bg-transparent hover:bg-transparent hover:no-underline",onClick:l,children:"Logout"})]})]})]})]}):e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(L,{to:"/login",children:e.jsx(y,{children:"Login"})}),e.jsx(L,{to:"/signup",children:e.jsx(y,{children:"Sign Up"})})]})]}),e.jsx("button",{onClick:i,className:"ml-5 p-2 bg-gray-600 rounded-full hover:scale-105",children:n==="dark"?e.jsx(ps,{}):e.jsx(xs,{})})]})})}const ca=K("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=o.forwardRef(({className:s,...t},a)=>e.jsx(pe,{ref:a,className:x(ca(),s),...t}));u.displayName=pe.displayName;const j=o.forwardRef(({className:s,type:t,...a},n)=>e.jsx("input",{type:t,className:x("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...a}));j.displayName="Input";const re="http://localhost:8000/api/user",M="http://localhost:8000/api/jobs",V="http://localhost:8000/api/applicants",Y="http://localhost:8000/api/companies";function da(){const[s,t]=o.useState({email:"",password:"",role:""}),{loading:a,user:n}=C(m=>m.auth),r=R(),l=A();o.useEffect(()=>{n&&r("/")},[n,r]);const i=m=>{t({...s,[m.target.name]:m.target.value})},d=async m=>{if(m.preventDefault(),l(q(!0)),!s.email||!s.password||!s.role){h.error("Please fill in all the required fields.",{className:"error"}),l(q(!1));return}if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(s.email)){h.error("Please enter a valid email.",{className:"error"}),l(q(!1));return}try{const p=await Ee.post(`${re}/login`,{email:s.email,password:s.password,role:s.role});p.data.success?(localStorage.setItem("authToken",p.data.token),l(te(p.data.user)),h.success(`Logged in successfully, ${p.data.user.username||p.data.user.fullname}!`,{className:"success"}),r("/")):h.error(p.data.message||"Invalid credentials.",{className:"error "})}catch(p){console.error("Login Error:",p),h.error("An error occurred during login.",{className:"error"})}finally{l(q(!1))}};return o.useEffect(()=>{n&&r("/")}),e.jsx("div",{className:"flex items-center justify-center min-h-screen ",children:e.jsxs("form",{onSubmit:d,className:" max-w-md w-1/2 shadow-2xl border-gray-100 rounded p-4 my-10",children:[e.jsx("h1",{className:"font-bold text-xl mb-5 text-center  border-b-2",children:"Login"}),e.jsxs("div",{className:"my-3",children:[e.jsx(u,{children:"Email"}),e.jsx(j,{type:"email",placeholder:"example@gmail.com",value:s.email,onChange:i,name:"email",required:!0,className:"w-full outline-none border-none  bg-transparent"})]}),e.jsxs("div",{className:"my-3",children:[e.jsx(u,{children:"Password"}),e.jsx(j,{type:"password",placeholder:"Enter Your Password",value:s.password,name:"password",onChange:i,required:!0,className:"p-2 rounded w-full outline-none border-none  bg-transparent"})]}),e.jsxs("div",{className:"my-3",children:[e.jsx(u,{children:"Role"}),e.jsxs("div",{className:"flex gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"student-option",name:"role",value:"student",checked:s.role==="student",onChange:i,className:"h-5 w-5 "}),e.jsx("label",{htmlFor:"student-option",className:"text-lg text-blue-600 cursor-pointer",children:"Student"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"recruiter-option",name:"role",value:"recruiter",checked:s.role==="recruiter",onChange:i,className:"h-5 w-5 "}),e.jsx("label",{htmlFor:"recruiter-option",className:"text-lg text-blue-600 cursor-pointer",children:"Recruiter"})]})]})]}),e.jsx(y,{type:"submit",className:"mt-4 w-full py-2 bg-red-600 hover:bg-red-400 focus:ring-2 focus:ring-red-500 text-white",disabled:a,children:a?"Logging in...":"Login"}),e.jsx("div",{className:"text-center mt-3",children:e.jsxs("span",{children:["Don’t have an account?"," ",e.jsx(L,{to:"/signup",className:"text-[#6A38C2]",children:"Sign Up"})]})})]})})}function ma(){const[s,t]=o.useState({fullname:"",email:"",phoneNumber:"",password:"",role:"",file:null}),[a,n]=o.useState(!1),r=R(),l=m=>{t({...s,[m.target.name]:m.target.value})},i=async m=>{var p;if(m.preventDefault(),n(!0),!s.email.match(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/)){h.error("Please enter a valid email address.",{className:"error"}),n(!1);return}if(s.password.length<6){h.error("Password must be at least 6 characters long.",{className:"error"}),n(!1);return}if(!s.role){h.error("Please select a role.",{className:"error"}),n(!1);return}const c=new FormData;c.append("email",s.email),c.append("password",s.password),c.append("role",s.role),s.fullname&&c.append("fullname",s.fullname),s.phoneNumber&&c.append("phoneNumber",s.phoneNumber),s.file&&c.append("profilePic",s.file);try{const f=await k.post(`${re}/register`,c,{headers:{"Content-Type":"multipart/form-data"}});(p=f==null?void 0:f.data)!=null&&p.success?(h.success(`${f.data.message}`,{className:"success"}),r("/login")):h.error("Registration failed. Please try again.",{className:"error"})}catch(f){console.error("Registration Error:",f),h.error("An error occurred. Please try again.",{className:"error"})}finally{n(!1)}},{user:d}=C(m=>m.auth);return o.useEffect(()=>{d&&r("/")},[d,r]),e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4",children:e.jsxs("form",{onSubmit:i,className:"w-full max-w-md bg-white shadow-lg rounded-lg p-6 sm:p-8",children:[e.jsx("h1",{className:"font-bold text-2xl mb-6 text-center border-b pb-3",children:"Sign Up"}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{children:"Full Name"}),e.jsx(j,{onChange:l,className:"w-full border border-gray-300 rounded-md p-2 mt-1 outline-none bg-transparent",type:"text",value:s.fullname,name:"fullname",placeholder:"Enter Your Name",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{children:"Email"}),e.jsx(j,{onChange:l,type:"email",className:"w-full border border-gray-300 rounded-md p-2 mt-1 outline-none bg-transparent",value:s.email,name:"email",placeholder:"example@gmail.com",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{children:"Phone Number"}),e.jsx(j,{onChange:l,type:"tel",className:"w-full border border-gray-300 rounded-md p-2 mt-1 outline-none bg-transparent",value:s.phoneNumber,name:"phoneNumber",placeholder:"9420111111",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{children:"Password"}),e.jsx(j,{type:"password",value:s.password,name:"password",onChange:l,className:"w-full border border-gray-300 rounded-md p-2 mt-1 outline-none bg-transparent",placeholder:"Enter Your Password",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(u,{children:"Role"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-8 mt-2",children:[e.jsxs("label",{className:"inline-flex items-center cursor-pointer mb-2 sm:mb-0",children:[e.jsx("input",{type:"radio",id:"student-option",name:"role",value:"student",checked:s.role==="student",onChange:l,className:"form-radio h-5 w-5 text-red-600"}),e.jsx("span",{className:"ml-2 text-lg text-blue-600",children:"Student"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",id:"recruiter-option",name:"role",value:"recruiter",checked:s.role==="recruiter",onChange:l,className:"form-radio h-5 w-5 text-red-600"}),e.jsx("span",{className:"ml-2 text-lg text-blue-600",children:"Recruiter"})]})]})]}),e.jsx(y,{type:"submit",className:"w-full py-3 bg-red-600 hover:bg-red-500 focus:ring-4 focus:ring-red-400 text-white rounded-md transition-colors disabled:opacity-50",disabled:a,children:a?"Signing Up...":"Sign Up"}),e.jsxs("p",{className:"text-center mt-5 text-gray-600",children:["Already have an account?"," ",e.jsx(L,{to:"/login",className:"text-[#6A38C2] font-semibold hover:underline",children:"Login"})]})]})})}const pa=K("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function I({className:s,variant:t,...a}){return e.jsx("div",{className:x(pa({variant:t}),s),...a})}function De({job:s}){var n;const t=R(),a=r=>{if(!r)return"Unknown";const l=new Date(r),d=new Date-l,m=Math.floor(d/(1e3*60*60*24));return m===0?"Today":m===1?"1 Day Ago":`${m} Days Ago`};return e.jsxs("div",{className:"p-5 rounded-md shadow-xl  grid grid-cols-1 gap-4 ",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{children:a(s==null?void 0:s.createdAt)}),e.jsx(y,{variant:"outline",className:"rounded-full",size:"icon","aria-label":"Save job for later",children:e.jsx(hs,{})})]}),e.jsxs("div",{className:"flex items-center my-2 gap-2",children:[e.jsx(F,{children:e.jsx(B,{src:"https://static.vecteezy.com/system/resources/previews/015/280/523/non_2x/job-logo-icon-with-tie-image-free-vector.jpg",alt:"Company logo"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:((n=s==null?void 0:s.company)==null?void 0:n.name)||"Unknown Company"}),e.jsx("p",{className:"text-sm",children:"India"})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg my-2",children:(s==null?void 0:s.title)||"Job Title"}),e.jsx("p",{className:"text-gray-400",children:(s==null?void 0:s.description)||"No description provided."})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs(I,{className:" font-bold",variant:"ghost",children:[(s==null?void 0:s.position)||"Position"," Position"]}),e.jsxs(I,{className:" font-bold",variant:"ghost",children:[(s==null?void 0:s.jobType)||"Full"," time"]}),e.jsxs(I,{className:" font-bold",variant:"ghost",children:[(s==null?void 0:s.salary)||"0"," LPA"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx(y,{variant:"outline",className:"rounded-xl text-teal-500",onClick:()=>t(`/description/${s==null?void 0:s._id}`),"aria-label":"View job details",children:"Details"}),e.jsx(y,{className:"rounded-xl","aria-label":"Save job for later",children:"Save for Later"})]})]})}const Ie=o.forwardRef(({className:s,...t},a)=>e.jsx(xe,{className:x("grid gap-2",s),...t,ref:a}));Ie.displayName=xe.displayName;const Je=o.forwardRef(({className:s,...t},a)=>e.jsx(he,{ref:a,className:x("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(us,{className:"flex items-center justify-center",children:e.jsx(fs,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Je.displayName=he.displayName;const $e=G({name:"job",initialState:{allJobs:[],allAdminJobs:[],searchJobByText:"",singleJob:null,allAppliedJob:[],searchJobQueryText:""},reducers:{setAllJobs:(s,t)=>{s.allJobs=t.payload},setAllAdminJobs:(s,t)=>{s.allAdminJobs=t.payload},setSearchJobByText:(s,t)=>{s.searchJobByText=t.payload},setSingleJob:(s,t)=>{s.singleJob=t.payload},setAllAppliedJob:(s,t)=>{s.allAppliedJob=t.payload},setSearchJobQueryText:(s,t)=>{s.searchJobQueryText=t.payload}}}),{setAllJobs:xa,setAllAdminJobs:ha,setSearchJobByText:ua,setSingleJob:le,setAllAppliedJob:fa,setSearchJobQueryText:ne}=$e.actions,ga=$e.reducer,ja=[{filterType:"Locations",array:["Delhi","Mumbai","Pune","Noida","Gurgaon","Benguluru"]},{filterType:"Industry",array:["Frontend","Backend","Full Stack","Java","Python","Blockchain"]},{filterType:"Salary",array:["0-40K","42K-1lakh","2lakh-10lakh","11lakh-24lakh"]}];function ya(){const[s,t]=o.useState(""),a=A(),n=r=>{t(r)};return o.useEffect(()=>{a(ne(s))},[s,a]),e.jsxs("div",{className:"w-full  p-3 rounded-md",children:[e.jsx("h1",{className:"font-bold",children:"Filter Jobs"}),e.jsx("hr",{className:"mt-3"}),e.jsx(Ie,{value:s,onValueChange:n,children:ja.map((r,l)=>e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-lg",children:r.filterType}),r.array.map(i=>{const d=`${r.filterType}-${i}`;return e.jsxs("div",{className:"flex items-center space-x-2 my-2",children:[e.jsx(Je,{value:i,id:d}),e.jsx(u,{htmlFor:d,children:i})]},d)})]},l))})]})}function Na(){const{allJobs:s,searchJobQueryText:t}=C(r=>r.job),[a,n]=o.useState(s);return o.useEffect(()=>{if(t){const r=s.filter(l=>l.title.toLowerCase().includes(t.toLowerCase())||l.description.toLowerCase().includes(t.toLowerCase())||l.location.toLowerCase().includes(t.toLowerCase()));n(r)}else n(s)},[s,t]),e.jsx("div",{className:"max-w-7xl mt-5 mx-auto ",children:e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{className:"w-[20%]",children:e.jsx(ya,{})}),a.length===0?e.jsx("span",{children:"Job not found"}):e.jsx("div",{className:"flex-1 h-[88vh] overflow-y-auto p-1",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.map(r=>e.jsx(ue.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,ease:[.43,.13,.28,.96]},children:e.jsx(De,{job:r})},r._id))})})]})})}const ba=(s,t,a)=>{const n=o.useRef(null);o.useEffect(()=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{s()},t)},[...a,t])};function _e(){const s=A(),{searchJobQueryText:t}=C(n=>n.job);ba(async()=>{try{const n=await k.get(`${M}/get?keyword=${t}`,{withCredentials:!0});n.data.success&&s(xa(n.data.jobs))}catch(n){console.error("Error fetching jobs:",n),h.error("Failed to fetch jobs. Please try again.")}},500,[t,s])}function va(){_e();const s=A(),{allJobs:t}=C(a=>a.job);return o.useEffect(()=>{s(ne(""))},[s]),e.jsxs("div",{className:"max-w-7xl mx-auto my-10 px-4 sm:px-6 lg:px-8",children:[e.jsxs("h4",{className:"font-semibold text-lg sm:text-xl",children:["Search Result"," ",e.jsx("span",{className:"font-bold text-red-500",children:t.length})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-5",children:t.map(a=>e.jsx(ue.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,ease:[.43,.13,.28,.96]},children:e.jsx(De,{job:a})},a._id))})]})}function wa(){const[s,t]=o.useState(""),a=A(),n=R(),r=()=>{s.trim()&&(a(ne(s)),n("/browser"))};return e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"flex py-2 gap-5 my-1"}),e.jsx("span",{className:"px-4 py-4 rounded-full bg-gray-100 text-[#d3453b] font-medium",children:"No: 1 Job Hunt Website"}),e.jsxs("h1",{className:"text-5xl font-bold my-5",children:["Search Apply & ",e.jsx("br",{})," Get your"," ",e.jsx("span",{className:"text-[#d3453b]",children:"Dream Jobs"})]}),e.jsxs("p",{children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa nesciunt earum fugit aut explicabo"," "]}),e.jsxs("div",{className:"flex w-full max-w-md sm:w-3/4 md:w-2/5 shadow-2xl p-3 rounded items-center gap-4 mx-auto",children:[e.jsx("input",{type:"text",placeholder:"Find your Dream's Jobs",className:"w-full outline-none border-none bg-transparent text-black dark:text-white",value:s,onChange:l=>t(l.target.value),onKeyDown:l=>{l.key==="Enter"&&r()},"aria-label":"Job search input"}),e.jsx(y,{onClick:r,"aria-label":"Search Jobs",children:e.jsx(gs,{className:"h-5 w-5"})})]})]})}const Fe=o.createContext(null);function Q(){const s=o.useContext(Fe);if(!s)throw new Error("useCarousel must be used within a <Carousel />");return s}const Be=o.forwardRef(({orientation:s="horizontal",opts:t,setApi:a,plugins:n,className:r,children:l,...i},d)=>{const[m,c]=js({...t,axis:s==="horizontal"?"x":"y"},n),[p,f]=o.useState(!1),[g,b]=o.useState(!1),N=o.useCallback(D=>{D&&(f(D.canScrollPrev()),b(D.canScrollNext()))},[]),v=o.useCallback(()=>{c==null||c.scrollPrev()},[c]),T=o.useCallback(()=>{c==null||c.scrollNext()},[c]),$=o.useCallback(D=>{D.key==="ArrowLeft"?(D.preventDefault(),v()):D.key==="ArrowRight"&&(D.preventDefault(),T())},[v,T]);return o.useEffect(()=>{!c||!a||a(c)},[c,a]),o.useEffect(()=>{if(c)return N(c),c.on("reInit",N),c.on("select",N),()=>{c==null||c.off("select",N)}},[c,N]),e.jsx(Fe.Provider,{value:{carouselRef:m,api:c,opts:t,orientation:s||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:T,canScrollPrev:p,canScrollNext:g},children:e.jsx("div",{ref:d,onKeyDownCapture:$,className:x("relative",r),role:"region","aria-roledescription":"carousel",...i,children:l})})});Be.displayName="Carousel";const ze=o.forwardRef(({className:s,...t},a)=>{const{carouselRef:n,orientation:r}=Q();return e.jsx("div",{ref:n,className:"overflow-hidden",children:e.jsx("div",{ref:a,className:x("flex",r==="horizontal"?"-ml-4":"-mt-4 flex-col",s),...t})})});ze.displayName="CarouselContent";const He=o.forwardRef(({className:s,...t},a)=>{const{orientation:n}=Q();return e.jsx("div",{ref:a,role:"group","aria-roledescription":"slide",className:x("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",s),...t})});He.displayName="CarouselItem";const Ue=o.forwardRef(({className:s,variant:t="outline",size:a="icon",...n},r)=>{const{orientation:l,scrollPrev:i,canScrollPrev:d}=Q();return e.jsxs(y,{ref:r,variant:t,size:a,className:x("absolute  h-8 w-8 rounded-full",l==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!d,onClick:i,...n,children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Ue.displayName="CarouselPrevious";const Oe=o.forwardRef(({className:s,variant:t="outline",size:a="icon",...n},r)=>{const{orientation:l,scrollNext:i,canScrollNext:d}=Q();return e.jsxs(y,{ref:r,variant:t,size:a,className:x("absolute h-8 w-8 rounded-full",l==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!d,onClick:i,...n,children:[e.jsx(ys,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});Oe.displayName="CarouselNext";const Ca=["Frontend Developer","Backend Developer","Full Stack Web Developer","JavaScript Developer","Java Developer","Python","Data Science","AI Development","Block Chain"];function Sa(){return e.jsx("div",{children:e.jsxs(Be,{className:"w-full max-w-xl mx-auto my-20",children:[e.jsx(ze,{children:Ca.map((s,t)=>e.jsx(He,{className:"md:basis-1/2 lg:base-1/3",children:e.jsx(y,{className:" rounded-md hover:bg-[#6A38C2]",children:s})},t))}),e.jsx(Ue,{}),e.jsx(Oe,{})]})})}const Aa=({job:s})=>{var a;const t=R();return e.jsxs("div",{onClick:()=>t(`/description/${s._id}`),className:"p-5 rounded-md shadow-2xl cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-medium text-lg",children:(a=s==null?void 0:s.company)==null?void 0:a.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"India"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg my-2",children:s==null?void 0:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s==null?void 0:s.description})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs(I,{className:"font-bold",variant:"ghost",children:[s==null?void 0:s.position," Positions"]}),e.jsx(I,{className:"font-bold",variant:"ghost",children:s==null?void 0:s.jobType}),e.jsxs(I,{className:"font-bold",variant:"ghost",children:[s==null?void 0:s.salary,"LPA"]})]})]})};function ka(){const s=C(t=>t.job.allJobs)||[];return e.jsxs("div",{className:"",children:[e.jsxs("h1",{className:"text-4xl font-bold pl-5",children:[e.jsx("span",{className:"text-[#d3453b]",children:"Latest & Tops "})," Job Opening"]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 my-5",children:s.length>0?s.slice(0,12).map(t=>e.jsx(Aa,{job:t},t._id)):e.jsx("p",{children:"No jobs available."})})]})}const ie=()=>{_e();const{user:s}=C(a=>a.auth),t=R();return o.useEffect(()=>{s&&s.role==="recruiter"&&t("/admin/companies")},[s,t]),e.jsxs("div",{children:[e.jsx(wa,{}),e.jsx(Sa,{}),e.jsx(ka,{})]})},z=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:x("w-full caption-bottom text-sm",s),...t})}));z.displayName="Table";const H=o.forwardRef(({className:s,...t},a)=>e.jsx("thead",{ref:a,className:x("[&_tr]:border-b",s),...t}));H.displayName="TableHeader";const U=o.forwardRef(({className:s,...t},a)=>e.jsx("tbody",{ref:a,className:x("[&_tr:last-child]:border-0",s),...t}));U.displayName="TableBody";const Pa=o.forwardRef(({className:s,...t},a)=>e.jsx("tfoot",{ref:a,className:x("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));Pa.displayName="TableFooter";const J=o.forwardRef(({className:s,...t},a)=>e.jsx("tr",{ref:a,className:x("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));J.displayName="TableRow";const S=o.forwardRef(({className:s,...t},a)=>e.jsx("th",{ref:a,className:x("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));S.displayName="TableHead";const w=o.forwardRef(({className:s,...t},a)=>e.jsx("td",{ref:a,className:x("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));w.displayName="TableCell";const O=o.forwardRef(({className:s,...t},a)=>e.jsx("caption",{ref:a,className:x("mt-4 text-sm text-muted-foreground",s),...t}));O.displayName="TableCaption";const Ra=()=>{const{allAppliedJob:s=[]}=C(t=>t.job);return e.jsx("div",{className:"w-full overflow-x-auto",children:s.length===0?e.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-400",children:"You haven't applied to any jobs yet."}):e.jsxs(z,{className:"min-w-[600px] md:min-w-full",children:[e.jsx(O,{children:"A list of your applied jobs"}),e.jsx(H,{children:e.jsxs(J,{children:[e.jsx(S,{children:"Date"}),e.jsx(S,{children:"Job Role"}),e.jsx(S,{children:"Company"}),e.jsx(S,{className:"text-right",children:"Status"})]})}),e.jsx(U,{children:s.map(t=>{var a,n,r,l;return e.jsxs(J,{className:"hover:bg-gray-100 dark:hover:bg-gray-800 transition",children:[e.jsx(w,{className:"whitespace-nowrap",children:(a=t==null?void 0:t.createdAt)==null?void 0:a.split("T")[0]}),e.jsx(w,{className:"whitespace-normal max-w-xs",children:(n=t.job)==null?void 0:n.title}),e.jsx(w,{className:"whitespace-normal max-w-xs",children:(l=(r=t.job)==null?void 0:r.company)==null?void 0:l.name}),e.jsx(w,{className:"text-right whitespace-nowrap",children:e.jsx(I,{className:`px-3 py-1 rounded-full text-sm ${t.status==="rejected"?"bg-red-600 text-white":t.status==="pending"?"bg-yellow-600 text-black":"bg-green-600 text-white"}`,children:t.status.toUpperCase()})})]},t._id)})})]})})},Ta=ws,La=Ns,qe=o.forwardRef(({className:s,...t},a)=>e.jsx(ge,{ref:a,className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));qe.displayName=ge.displayName;const Ge=o.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(La,{children:[e.jsx(qe,{}),e.jsxs(je,{ref:n,className:x("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(bs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ge.displayName=je.displayName;const Me=({className:s,...t})=>e.jsx("div",{className:x("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});Me.displayName="DialogHeader";const Ve=({className:s,...t})=>e.jsx("div",{className:x("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});Ve.displayName="DialogFooter";const Ye=o.forwardRef(({className:s,...t},a)=>e.jsx(ye,{ref:a,className:x("text-lg font-semibold leading-none tracking-tight",s),...t}));Ye.displayName=ye.displayName;const Ea=o.forwardRef(({className:s,...t},a)=>e.jsx(Ne,{ref:a,className:x("text-sm text-muted-foreground",s),...t}));Ea.displayName=Ne.displayName;const Da=({open:s,setOpen:t})=>{var f,g,b;const[a,n]=o.useState(!1),{user:r}=C(N=>N.auth),l=A(),[i,d]=o.useState({fullname:(r==null?void 0:r.fullname)||"",email:(r==null?void 0:r.email)||"",phoneNumber:(r==null?void 0:r.phoneNumber)||"",bio:((f=r==null?void 0:r.profile)==null?void 0:f.bio)||"",skills:((b=(g=r==null?void 0:r.profile)==null?void 0:g.skills)==null?void 0:b.join(", "))||"",file:null});o.useEffect(()=>{var N,v,T;d({fullname:(r==null?void 0:r.fullname)||"",email:(r==null?void 0:r.email)||"",phoneNumber:(r==null?void 0:r.phoneNumber)||"",bio:((N=r==null?void 0:r.profile)==null?void 0:N.bio)||"",skills:((T=(v=r==null?void 0:r.profile)==null?void 0:v.skills)==null?void 0:T.join(", "))||"",file:null})},[r,s]);const m=N=>{const{name:v,value:T}=N.target;d($=>({...$,[v]:T}))},c=N=>{var T;const v=(T=N.target.files)==null?void 0:T[0];d($=>({...$,file:v}))},p=async N=>{var $,D;N.preventDefault();const v=new FormData;v.append("fullname",i.fullname),v.append("email",i.email),v.append("phoneNumber",i.phoneNumber),v.append("bio",i.bio);const T=i.skills.split(",").map(E=>E.trim()).filter(E=>E.length>0);v.append("skills",JSON.stringify(T)),i.file&&v.append("file",i.file);try{n(!0);const E=await k.post(`${re}/profile/update`,v,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});E.data.success?(l(te(E.data.user)),h.success(E.data.message,{className:"success"}),t(!1)):h.error("Failed to update profile.",{className:"error"})}catch(E){console.error(E),h.error(((D=($=E==null?void 0:E.response)==null?void 0:$.data)==null?void 0:D.message)||"An error occurred",{className:"error"})}finally{n(!1)}};return e.jsx(Ta,{open:s,onOpenChange:t,children:e.jsxs(Ge,{className:"sm:max-w-[425px] bg-white/10 shadow-xl backdrop-blur-[4px] rounded-b-xl",onInteractOutside:()=>t(!1),children:[e.jsx(Me,{children:e.jsx(Ye,{children:"Update Profile"})}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"fullname",className:"text-right",children:"Name"}),e.jsx(j,{id:"fullname",name:"fullname",type:"text",value:i.fullname,onChange:m,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"email",className:"text-right",children:"Email"}),e.jsx(j,{id:"email",name:"email",type:"email",value:i.email,onChange:m,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"phoneNumber",className:"text-right",children:"Number"}),e.jsx(j,{id:"phoneNumber",name:"phoneNumber",type:"tel",value:i.phoneNumber,onChange:m,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"bio",className:"text-right",children:"Bio"}),e.jsx(j,{id:"bio",name:"bio",value:i.bio,onChange:m,className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"skills",className:"text-right",children:"Skills (comma separated)"}),e.jsx(j,{id:"skills",name:"skills",value:i.skills,onChange:m,className:"col-span-3",placeholder:"e.g. HTML, CSS, React"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"file",className:"text-right",children:"Resume"}),e.jsx(j,{id:"file",name:"file",type:"file",accept:"application/pdf",onChange:c,className:"col-span-3"})]})]}),e.jsx(Ve,{children:a?e.jsxs(y,{className:"w-full my-4",disabled:!0,children:[e.jsx(be,{className:"mr-2 h-4 w-4 animate-spin"})," Please wait"]}):e.jsx(y,{type:"submit",className:"w-full bg-red-600 my-4",children:"Update"})})]})]})})},Ia=()=>{const s=A();o.useEffect(()=>{(async()=>{try{const a=await k.get(`${V}/get`,{withCredentials:!0});a.data.success&&s(fa(a.data.applications))}catch(a){console.log(a)}})()},[s])},Ja=()=>{var r,l,i,d,m;Ia();const[s,t]=o.useState(!1),{user:a}=C(c=>c.auth),n=!!((r=a==null?void 0:a.profile)!=null&&r.resume);return e.jsxs("div",{className:"px-4 md:px-0 max-w-4xl mx-auto",children:[e.jsxs("section",{className:"border border-gray-200 rounded-2xl my-5 p-6 md:p-8 shadow-sm bg-white",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsx(F,{className:"h-24 w-24 flex-shrink-0",children:e.jsx(B,{src:((l=a==null?void 0:a.profile)==null?void 0:l.avatar)||"https://static.vecteezy.com/system/resources/previews/015/280/523/non_2x/job-logo-icon-with-tie-image-free-vector.jpg",alt:"profile"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-medium text-xl",children:(a==null?void 0:a.fullname)||"No Name"}),e.jsx("p",{className:"text-gray-600",children:((i=a==null?void 0:a.profile)==null?void 0:i.bio)||"No bio available."})]})]}),e.jsx(y,{onClick:()=>t(!0),className:"bg-yellow-500 rounded-full text-white hover:bg-yellow-600 transition-colors flex items-center justify-center",variant:"outline","aria-label":"Edit Profile",children:e.jsx(W,{})})]}),e.jsxs("div",{className:"my-5 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(Cs,{}),e.jsx("span",{children:(a==null?void 0:a.email)||"Email not provided"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(Ss,{}),e.jsx("span",{children:(a==null?void 0:a.phoneNumber)||"Phone number not provided"})]})]}),e.jsxs("div",{className:"my-5 flex flex-wrap items-center gap-3",children:[e.jsx("h2",{className:"font-semibold mr-3",children:"Skills:"}),((m=(d=a==null?void 0:a.profile)==null?void 0:d.skills)==null?void 0:m.length)>0?a.profile.skills.map((c,p)=>e.jsx(I,{className:"bg-black text-yellow-600 font-semibold outline-red-500",children:c},p)):e.jsx("span",{className:"text-gray-500",children:"NA"})]}),e.jsxs("div",{className:"flex items-center gap-2 max-w-sm",children:[e.jsx(u,{className:"text-md font-bold",children:"Resume:"}),n?e.jsx("a",{href:a.profile.resume,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-words",title:a.profile.originalResumeName||"Resume",children:a.profile.originalResumeName||"View Resume"}):e.jsx("span",{className:"text-gray-500",children:"NA"})]})]}),e.jsxs("section",{className:"max-w-4xl mx-auto rounded-2xl bg-white p-4 md:p-6 shadow-sm",children:[e.jsx("h1",{className:"font-bold text-lg mb-5",children:"Applied Jobs"}),e.jsx(Ra,{})]}),e.jsx(Da,{open:s,setOpen:t})]})},$a=()=>{var c,p,f;const{singleJob:s}=C(g=>g.job),{user:t}=C(g=>g.auth),a=((c=s==null?void 0:s.applications)==null?void 0:c.some(g=>g.applicant===(t==null?void 0:t._id)))||!1,[n,r]=o.useState(a),i=Z().id,d=A(),m=async()=>{var g,b;try{const N=await k.post(`${V}/apply/${i}`,{},{withCredentials:!0});if(N.data.success){r(!0);const v={...s,applications:[...s.applications,{applicant:t==null?void 0:t._id}]};d(le(v)),h.success(N.data.message,{className:"success"})}}catch(N){console.log(N),h.error(((b=(g=N.response)==null?void 0:g.data)==null?void 0:b.message)||"An error occurred while applying.",{className:"error"})}};return o.useEffect(()=>{(async()=>{try{const b=await k.get(`${M}/get/${i}`,{withCredentials:!0});b.data.success&&(d(le(b.data.job)),r(b.data.job.applications.some(N=>N.applicant===(t==null?void 0:t._id))))}catch(b){console.error(b)}})()},[i,d,t==null?void 0:t._id]),e.jsxs("div",{className:"max-w-7xl mx-auto my-10 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"font-bold text-xl truncate",children:s==null?void 0:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsxs(I,{className:"font-bold",variant:"ghost",children:[s==null?void 0:s.position," Positions"]}),e.jsx(I,{className:"font-bold",variant:"ghost",children:s==null?void 0:s.jobType}),e.jsxs(I,{className:"font-bold",variant:"ghost",children:[s==null?void 0:s.salary,"LPA"]})]})]}),e.jsx(y,{onClick:n?null:m,disabled:n,"aria-disabled":n,className:`rounded-lg w-full sm:w-auto ${n?"bg-gray-600 cursor-not-allowed":"bg-[#7209b7] hover:bg-[#d3453b]"}`,children:n?"Already Applied":"Apply Now"})]}),e.jsx("h2",{className:"border-b-2 font-medium py-4 mt-8",children:"Job Description"}),e.jsxs("div",{className:"my-4 space-y-3 text-sm sm:text-base",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",e.jsx("span",{className:"pl-2",children:s==null?void 0:s.title})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",e.jsx("span",{className:"pl-2",children:s==null?void 0:s.location})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",e.jsx("span",{className:"pl-2",children:s==null?void 0:s.description})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Experience:"})," ",e.jsxs("span",{className:"pl-2",children:[s==null?void 0:s.experience," yrs"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Salary:"})," ",e.jsxs("span",{className:"pl-2",children:[s==null?void 0:s.salary,"LPA"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Applicants:"})," ",e.jsx("span",{className:"pl-2",children:(p=s==null?void 0:s.applications)==null?void 0:p.length})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Posted Date:"})," ",e.jsx("span",{className:"pl-2",children:(f=s==null?void 0:s.createdAt)==null?void 0:f.split("T")[0]})]})]})]})};function _a(){const s=R(),{companies:t=[],searchCompanyByText:a}=C(i=>i.company),[n,r]=o.useState(t);o.useEffect(()=>{const i=t&&t.length>0?t.filter(d=>{var m;return a?(m=d==null?void 0:d.name)==null?void 0:m.toLowerCase().includes(a.toLowerCase()):!0}):[];JSON.stringify(i)!==JSON.stringify(n)&&r(i)},[t,a,n]);const l=Array.isArray(n)?n:[];return e.jsx("div",{className:"max-w-6xl my-10 mx-auto",children:e.jsxs(z,{children:[e.jsx(O,{children:"A list of your recent registered Companies"}),e.jsx(H,{children:e.jsxs(J,{children:[e.jsx(S,{children:"Logo"}),e.jsx(S,{children:"Name"}),e.jsx(S,{children:"Date"}),e.jsx(S,{className:"text-right",children:"Action"})]})}),e.jsx(U,{children:l.length===0?e.jsx(J,{children:e.jsx(w,{colSpan:4,children:"No Companies"})}):l.map(i=>e.jsxs(J,{children:[e.jsx(w,{children:e.jsx(As,{className:"h-12 w-12",children:e.jsx(ks,{className:"h-10 w-10",src:i.logo||"https://www.shutterstock.com/image-vector/circle-line-simple-design-logo-600nw-2174926871.jpg",alt:"company-logo"})})}),e.jsx(w,{children:i.name}),e.jsx(w,{children:new Date(i.createdAt).toLocaleDateString()}),e.jsx(w,{className:"text-right",children:e.jsxs(ee,{children:[e.jsx(se,{className:"bg-transparent",children:e.jsx(X,{className:"text-cyan-400"})}),e.jsx(ve,{className:"w-32",children:e.jsxs("div",{className:"items-center flex gap-2 cursor-pointer -my-4 bg-gray-500 w-fit p-1",onClick:()=>s(`/admin/companies/${i._id}`),children:[e.jsx(W,{className:"w-4"}),e.jsx("span",{children:"Edit"})]})})]})})]},i._id))})]})})}const Qe=G({name:"company",initialState:{singleCompany:null,companies:[],searchCompanyByText:""},reducers:{setsingleCompany:(s,t)=>{s.singleCompany=t.payload},setcompanies:(s,t)=>{s.companies=t.payload},searchCompanyByText:(s,t)=>{s.searchCompanyByText=t.payload}}}),{setsingleCompany:Ke,setcompanies:Fa,searchCompanyByText:Ba}=Qe.actions,za=Qe.reducer;function Ha(){const s=A();o.useEffect(()=>{(async()=>{try{const a=await k.get(`${Y}/get`,{withCredentials:!0});a.data.success&&s(Fa(a.data.companies))}catch(a){console.error(a)}})()},[s])}function Ua(){const[s,t]=o.useState(""),a=R();Ha();const n=A();return o.useEffect(r=>{n(Ba(s))}),e.jsx("div",{children:e.jsxs("div",{className:"max-w-6xl my-10 mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between my-5",children:[e.jsx(j,{onChange:r=>t(r.target.value),className:"w-fit",placeholder:"Filter by name"}),e.jsx(y,{onClick:()=>a("/admin/companies/create"),children:"Add New Company"})]}),e.jsx("div",{children:e.jsx(_a,{})})]})})}function Oa(){const[s,t]=o.useState(""),a=A(),n=R(),r=async()=>{var l,i;if(!s){h.error("Please enter a company name."`${error.message}`,{className:"error"});return}try{const d=await k.post(`${Y}/register`,{companyName:s},{headers:{"Content-Type":"application/json"},withCredentials:!0});if(d.data.success){a(Ke(d.data.company)),h.success(d.data.message,{className:"success"});const m=(i=(l=d==null?void 0:d.data)==null?void 0:l.company)==null?void 0:i._id;n(`/admin/companies/${m}`)}else h.error(d.data.message||"Something went wrong!",{className:"error"})}catch(d){console.error(d),h.error("Error occurred while creating company.",{className:"error"})}};return e.jsx("div",{children:e.jsxs("div",{className:"max-w-4xl mx-auto my-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-2xl",children:"Your Company Name"}),e.jsx("p",{className:"text-gray-400 font-semibold",children:"What would you like to give your Company name"})]}),e.jsx(u,{children:"Company Name"}),e.jsx(j,{type:"text",placeholder:"Write your Company name",className:"my-2",value:s,onChange:l=>t(l.target.value)}),e.jsxs("div",{className:"flex items-center gap-2 my-10",children:[e.jsx(y,{onClick:()=>n("/admin/companies"),children:"Cancel"}),e.jsx(y,{onClick:r,children:"Continue"})]})]})})}function qa(s){const t=A();o.useEffect(()=>{(async()=>{try{const n=await k.get(`${Y}/get/${s}`,{withCredentials:!0});n.data.success&&t(Ke(n.data.company))}catch(n){console.error(n)}})()},[s,t])}function Ga(){const{id:s}=Z();A();const t=R();qa(s);const{singleCompany:a}=C(p=>p.company),[n,r]=o.useState(!1),[l,i]=o.useState({name:"",description:"",website:"",location:"",file:null});o.useEffect(()=>{a&&a._id===s&&i({name:a.name||"",description:a.description||"",website:a.website||"",location:a.location||"",file:a.file||null})},[a,s]);const d=p=>{i({...l,[p.target.name]:p.target.value})},m=p=>{i({...l,file:p.target.files[0]}),console.log("File selected:",p.target.files[0])},c=async p=>{var g;p.preventDefault();const f=new FormData;f.append("name",l.name),f.append("description",l.description),f.append("website",l.website),f.append("location",l.location),l.file&&f.append("file",l.file);try{r(!0);const b=await k.put(`${Y}/update/${s}`,f,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});r(!1),b.data.success?(h.success(b.data.message,{className:"success"}),t("/admin/companies")):h.error(b.data.message||"Failed to update company.",{className:"error"})}catch(b){r(!1),console.error("Axios error:",b.response),h.error(((g=b.response)==null?void 0:g.data.message)||"An error occurred while updating the company.",{className:"error"})}};return e.jsx("div",{children:e.jsx("div",{className:"max-w-xl mx-auto my-10",children:e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"flex gap-2 items-center p-8",children:[e.jsxs(y,{onClick:()=>t("/admin/companies"),className:"flex items-center gap-2 text-gray-500 font-semibold",children:[e.jsx(fe,{className:"bg-black text-white"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"font-bold text-xl",children:"Company Setup"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Company Name"}),e.jsx(j,{type:"text",placeholder:"Enter your company name",className:"my-2",name:"name",value:l.name,onChange:d})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Description"}),e.jsx(j,{type:"text",placeholder:"Enter a brief company description",className:"my-2",name:"description",value:l.description,onChange:d})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Website"}),e.jsx(j,{type:"text",placeholder:"Enter your company website",className:"my-2",name:"website",value:l.website,onChange:d})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Location"}),e.jsx(j,{type:"text",placeholder:"Enter your company location",className:"my-2",name:"location",value:l.location,onChange:d})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Image"}),e.jsx(j,{type:"file",accept:"image/*",className:"my-2",name:"file",onChange:m})]})]}),e.jsx(y,{type:"submit",disabled:n,children:n?"Updating...":"Update"})]})})})}const Ma=()=>e.jsx("footer",{className:"border-t border-t-gray-200 py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"mb-4 md:mb-0",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Job Hunt"}),e.jsx("p",{className:"text-sm",children:"© 2024 Your Company. All rights reserved."})]}),e.jsxs("div",{className:"flex space-x-4 mt-4 md:mt-0",children:[e.jsx("a",{href:"https://www.instagram.com/r_o_s_h_a_n_9_4_2_0/","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"w-6 h-6",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"})})}),e.jsx("a",{href:"https://x.com/RoshanChau55359","aria-label":"Twitter",target:"_blank",rel:"noopener noreferrer",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 4.557a9.835 9.835 0 01-2.828.775 4.934 4.934 0 002.165-2.724 9.867 9.867 0 01-3.127 1.195 4.924 4.924 0 00-8.38 4.49A13.978 13.978 0 011.67 3.149 4.93 4.93 0 003.16 9.724a4.903 4.903 0 01-2.229-.616v.062a4.93 4.93 0 003.946 4.827 4.902 4.902 0 01-2.224.084 4.93 4.93 0 004.6 3.417A9.869 9.869 0 010 21.543a13.978 13.978 0 007.548 2.212c9.057 0 14.01-7.507 14.01-14.01 0-.213-.004-.425-.015-.636A10.012 10.012 0 0024 4.557z"})})}),e.jsx("a",{href:"https://www.linkedin.com/in/roshan-chauhan-IT/","aria-label":"LinkedIn",target:"_blank",rel:"noopener noreferrer",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452H16.85v-5.569c0-1.327-.027-3.037-1.852-3.037-1.854 0-2.137 1.446-2.137 2.94v5.666H9.147V9.756h3.448v1.464h.05c.48-.91 1.653-1.871 3.401-1.871 3.634 0 4.307 2.39 4.307 5.498v5.605zM5.337 8.29c-1.105 0-2-.896-2-2 0-1.106.895-2 2-2 1.104 0 2 .895 2 2 0 1.104-.896 2-2 2zM7.119 20.452H3.553V9.756h3.566v10.696zM22.225 0H1.771C.791 0 0 .774 0 1.729v20.542C0 23.226.792 24 1.771 24h20.451c.979 0 1.771-.774 1.771-1.729V1.729C24 .774 23.205 0 22.225 0z"})})})," ",e.jsx("a",{href:"https://github.com/RoshANC-IT","aria-label":"GitHub",target:"_blank",rel:"noopener noreferrer",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",className:"w-6 h-6 fill-current",children:e.jsx("g",{fill:"#181616",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64 5.103c-33.347 0-60.388 27.035-60.388 60.388 0 26.682 17.303 49.317 41.297 57.303 3.017.56 4.125-1.31 4.125-2.905 0-1.44-.056-6.197-.082-11.243-16.8 3.653-20.345-7.125-20.345-7.125-2.747-6.98-6.705-8.836-6.705-8.836-5.48-3.748.413-3.67.413-3.67 6.063.425 9.257 6.223 9.257 6.223 5.386 9.23 14.127 6.562 17.573 5.02.542-3.903 2.107-6.568 3.834-8.076-13.413-1.525-27.514-6.704-27.514-29.843 0-6.593 2.36-11.98 6.223-16.21-.628-1.52-2.695-7.662.584-15.98 0 0 5.07-1.623 16.61 6.19C53.7 35 58.867 34.327 64 34.304c5.13.023 10.3.694 15.127 2.033 11.526-7.813 16.59-6.19 16.59-6.19 3.287 8.317 1.22 14.46.593 15.98 3.872 4.23 6.215 9.617 6.215 16.21 0 23.194-14.127 28.3-27.574 29.796 2.167 1.874 4.097 5.55 4.097 11.183 0 8.08-.07 14.583-.07 16.572 0 1.607 1.088 3.49 4.148 2.897 23.98-7.994 41.263-30.622 41.263-57.294C124.388 32.14 97.35 5.104 64 5.104z"})})})})]})]})})});function Va(){const s=R(),{searchJobByText:t,allAdminJobs:a}=C(l=>l.job),[n,r]=o.useState(a);return o.useEffect(()=>{const l=a.filter(i=>{var d;return t?i.title.toLowerCase().includes(t.toLowerCase())||((d=i==null?void 0:i.company)==null?void 0:d.name.toLowerCase().includes(t.toLowerCase())):!0});r(l)},[a,t]),e.jsx("div",{children:e.jsxs(z,{children:[e.jsxs(O,{children:["A list of your Posted Jobs (",n.length," job",n.length!==1?"s":"",")"]}),e.jsx(H,{children:e.jsxs(J,{children:[e.jsx(S,{children:"Company Name"}),e.jsx(S,{children:"Role"}),e.jsx(S,{children:"Date"}),e.jsx(S,{className:"text-right",children:"Action"})]})}),e.jsx(U,{children:n.length===0?e.jsx(J,{children:e.jsx(w,{colSpan:4,children:"No Jobs"})}):n.map(l=>{var i;return e.jsxs(J,{children:[e.jsx(w,{children:(i=l==null?void 0:l.company)==null?void 0:i.name}),e.jsx(w,{children:l.title}),e.jsx(w,{children:new Date(l.createdAt).toLocaleDateString()}),e.jsx(w,{className:"text-right  ",children:e.jsxs(Ps,{children:[e.jsx(Rs,{className:"bg-transparent",children:e.jsx(X,{className:"text-cyan-400"})}),e.jsxs(ve,{className:"flex  items-center justify-center gap-5 -my-3 rounded-md bg-gray-500 w-full",children:[e.jsxs("div",{onClick:()=>s(`/admin/jobs/${l._id}`),className:"flex items-center gap-2  cursor-pointer",children:[e.jsx(W,{className:"w-4 "}),e.jsx("span",{children:"Edit"})]}),e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>s(`/admin/job/${l._id}/applicants`),children:[e.jsx(Ts,{className:"w-4 "}),e.jsx("span",{children:"Applicants"})]})]})]})})]},l._id)})})]})})}function Ya(){const[s,t]=o.useState(!0),[a,n]=o.useState(null),r=A();return o.useEffect(()=>{(async()=>{try{const i=await k.get(`${M}/getAdminJobs`,{withCredentials:!0});i.data.success&&r(ha(i.data.jobs))}catch(i){console.error("Error fetching admin jobs:",i),n("Failed to fetch jobs. Please try again later.")}finally{t(!1)}})()},[r]),{loading:s,error:a}}const Qa=()=>{const[s,t]=o.useState(""),a=A(),n=R(),{loading:r,error:l}=Ya();return o.useEffect(()=>{a(ua(s))},[s,a]),e.jsxs("div",{className:"max-w-6xl mx-auto my-10 px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 my-5",children:[e.jsx(j,{className:"w-full max-w-sm",placeholder:"Filter by name, role",value:s,onChange:i=>t(i.target.value)}),e.jsx(y,{onClick:()=>n("/admin/job/create"),children:"New Jobs"})]}),r?e.jsx("p",{className:"text-center text-gray-600",children:"Loading jobs..."}):l?e.jsx("p",{className:"text-center text-red-600",children:l}):e.jsx(Va,{})]})},Ka=Fs,Wa=zs,Za=Bs,We=o.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(we,{ref:n,className:x("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(Ls,{asChild:!0,children:e.jsx(Ce,{className:"h-4 w-4 opacity-50"})})]}));We.displayName=we.displayName;const Ze=o.forwardRef(({className:s,...t},a)=>e.jsx(Se,{ref:a,className:x("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Es,{className:"h-4 w-4"})}));Ze.displayName=Se.displayName;const Xe=o.forwardRef(({className:s,...t},a)=>e.jsx(Ae,{ref:a,className:x("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Ce,{className:"h-4 w-4"})}));Xe.displayName=Ae.displayName;const es=o.forwardRef(({className:s,children:t,position:a="popper",...n},r)=>e.jsx(Ds,{children:e.jsxs(ke,{ref:r,className:x("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...n,children:[e.jsx(Ze,{}),e.jsx(Is,{className:x("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Xe,{})]})}));es.displayName=ke.displayName;const Xa=o.forwardRef(({className:s,...t},a)=>e.jsx(Pe,{ref:a,className:x("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));Xa.displayName=Pe.displayName;const ss=o.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(Re,{ref:n,className:x("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Js,{children:e.jsx($s,{className:"h-4 w-4"})})}),e.jsx(_s,{children:t})]}));ss.displayName=Re.displayName;const et=o.forwardRef(({className:s,...t},a)=>e.jsx(Te,{ref:a,className:x("-mx-1 my-1 h-px bg-muted",s),...t}));et.displayName=Te.displayName;const st=()=>{const[s,t]=o.useState({title:"",description:"",requirements:"",salary:"",location:"",jobType:"",experience:"",position:0,companyId:""}),[a,n]=o.useState(!1),r=R(),{companies:l}=C(c=>c.company),i=c=>{t({...s,[c.target.name]:c.target.value})},d=c=>{const p=l.find(f=>f.name.toLowerCase()===c);t({...s,companyId:p==null?void 0:p._id})},m=async c=>{var p,f;if(c.preventDefault(),!s.title||!s.description||!s.requirements||!s.salary||!s.location||!s.jobType||!s.experience||!s.position||!s.companyId){h.error("Please fill all required fields.");return}try{n(!0);const g=await k.post(`${M}/post`,s,{headers:{"Content-Type":"application/json"},withCredentials:!0});g.data.success&&(h.success(g.data.message,{className:"success"}),r("/admin/job"))}catch(g){const b=((f=(p=g.response)==null?void 0:p.data)==null?void 0:f.message)||"Something went wrong!";h.error(b,{className:"error"})}finally{n(!1)}};return e.jsx("div",{children:e.jsx("div",{className:"flex items-center justify-center w-screen my-5",children:e.jsxs("form",{onSubmit:m,className:"p-8 max-w-4xl border border-gray-200 shadow-lg rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Title"}),e.jsx(j,{type:"text",name:"title",value:s.title,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Description"}),e.jsx(j,{type:"text",name:"description",value:s.description,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Requirements"}),e.jsx(j,{type:"text",name:"requirements",value:s.requirements,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Salary"}),e.jsx(j,{type:"text",name:"salary",value:s.salary,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Location"}),e.jsx(j,{type:"text",name:"location",value:s.location,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Job Type"}),e.jsx(j,{type:"text",name:"jobType",value:s.jobType,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"Experience Level"}),e.jsx(j,{type:"text",name:"experience",value:s.experience,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),e.jsxs("div",{children:[e.jsx(u,{children:"No of Position"}),e.jsx(j,{type:"number",name:"position",value:s.position,onChange:i,className:"focus-visible:ring-offset-0 focus-visible:ring-0 my-1"})]}),l.length>0&&e.jsxs(Ka,{onValueChange:d,children:[e.jsx(We,{className:"w-[180px]",children:e.jsx(Za,{placeholder:"Select a Company"})}),e.jsx(es,{className:"bg-white/15 shadow-xl backdrop-blur-[2.4px] rounded-b-xl",children:e.jsx(Wa,{children:l.map(c=>e.jsx(ss,{className:"cursor-pointer",value:c.name.toLowerCase(),children:c.name},c._id))})})]})]}),a?e.jsxs(y,{className:"w-full my-4",children:[e.jsx(be,{className:"mr-2 h-4 w-4 animate-spin"})," Please wait"]}):e.jsx(y,{type:"submit",className:"w-full my-4",children:"Post New Job"}),l.length===0&&e.jsx("p",{className:"text-xs text-red-600 font-bold text-center my-3",children:"*Please register a company first, before posting a job"})]})})})},as=G({name:"application",initialState:{applicants:[]},reducers:{setAllApplicants:(s,t)=>{s.applicants=t.payload}}}),{setAllApplicants:at}=as.actions,tt=as.reducer,rt=["accepted","rejected"];function nt(){const{applicants:s}=C(a=>a.application),t=async(a,n,r)=>{var l,i,d,m;r.preventDefault();try{const c=await k.post(`${V}/status/${n}/update`,{status:a},{withCredentials:!0});c.data.success?(h.success(c.data.message,{className:"success"}),window.location.reload()):h.error(((i=(l=error.response)==null?void 0:l.data)==null?void 0:i.message)||"An error occurred",{className:"error"})}catch(c){h.error(((m=(d=c.response)==null?void 0:d.data)==null?void 0:m.message)||"An error occurred",{className:"error"})}};return e.jsx("div",{children:e.jsxs(z,{children:[e.jsx(O,{children:"List of your applied users"}),e.jsx(H,{children:e.jsxs(J,{children:[e.jsx(S,{children:"Full Name"}),e.jsx(S,{children:"Email"}),e.jsx(S,{children:"Number"}),e.jsx(S,{children:"Date"}),e.jsx(S,{className:"text-right",children:"Action"})]})}),e.jsx(U,{children:s==null?void 0:s.map((a,n)=>{var r,l,i,d;return e.jsxs(J,{children:[e.jsx(w,{children:(r=a==null?void 0:a.applicant)==null?void 0:r.fullname}),e.jsx(w,{children:(l=a==null?void 0:a.applicant)==null?void 0:l.email}),e.jsx(w,{children:(i=a==null?void 0:a.applicant)==null?void 0:i.phoneNumber}),e.jsx(w,{children:(d=a==null?void 0:a.createdAt)==null?void 0:d.split("T")[0]}),e.jsx(w,{className:"text-right",children:e.jsxs(ee,{children:[e.jsx(se,{className:"bg-transparent",children:e.jsx(X,{className:"text-cyan-400"})}),e.jsx(ae,{className:"flex justify-between w-60 h-10 items-center gap-2 bg-white/15 shadow-xl backdrop-blur-[2.4px] rounded-b-xl ",children:rt.map((m,c)=>e.jsx("p",{className:"cursor-pointer  ",onClick:p=>t(m.toLowerCase(),a==null?void 0:a._id,p),children:m},c))})]})})]},n)})})]})})}function lt(){const s=A(),t=Z(),{applicants:a}=C(n=>n.application);return o.useEffect(()=>{(async()=>{try{const r=await k.get(`${V}/${t.id}/applicants`,{withCredentials:!0});r.data.success&&s(at(r.data.job.applications))}catch(r){console.error("Error fetching applicants:",r)}})()},[t.id,s]),e.jsx("div",{children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("h1",{className:"",children:["Applicants ",e.jsxs("sup",{className:"text-red-500 font-bold",children:["(",(a==null?void 0:a.length)||0,")"]})]}),e.jsx(nt,{applicants:a})]})})}const _=({children:s})=>{const{user:t}=C(n=>n.auth),a=R();return o.useEffect(()=>{(t===null||t.role!=="recruiter")&&a("/")},[t,a]),e.jsx(e.Fragment,{children:s})},it=()=>{const[s,t]=o.useState(""),[a,n]=o.useState("Java"),[r,l]=o.useState(""),[i,d]=o.useState(!1),m=p=>["code","program","implement","function","algorithm","java","python","javascript","c++","solution","debug","compile","script","syntax"].some(g=>p.toLowerCase().includes(g)),c=async()=>{var f;if(!s.trim())return;d(!0),l("");let p;m(s)?p=`Please respond in the following format:

Answer: <short explanation>

Code:
<${a} code>

Question: ${s}`:p=s;try{const g=await k.post("http://localhost:8000/api/chat",{message:p});l(g.data.content)}catch(g){console.error("Error sending message:",g),l(((f=g.response)==null?void 0:f.status)===429?"You've exceeded your quota. Please check your billing.":"Oops! Something went wrong.")}finally{d(!1)}};return e.jsxs("div",{className:"max-w-4xl mx-auto border rounded-2xl my-5 p-8 py-5",children:[e.jsx("h2",{className:"font-bold mb-4 text-lg",children:"Chat with Gemini AI"}),e.jsxs("div",{className:"mb-4 bg-transparent",children:[e.jsx("label",{htmlFor:"language",className:"block mb-1 font-semibold",children:"Select language:"}),e.jsxs("select",{id:"language",value:a,onChange:p=>n(p.target.value),className:"border rounded p-2 text-red-600 bg-transparent",children:[e.jsx("option",{className:"bg-transparent",children:"Java"}),e.jsx("option",{className:"bg-transparent",children:"Python"}),e.jsx("option",{className:"bg-transparent",children:"JavaScript"}),e.jsx("option",{className:"bg-transparent",children:"C++"}),e.jsx("option",{className:"bg-transparent",children:"Go"}),e.jsx("option",{className:"bg-transparent",children:"Rust"}),e.jsx("option",{className:"bg-transparent",children:"Ruby"}),e.jsx("option",{className:"bg-transparent",children:"TypeScript"}),e.jsx("option",{className:"bg-transparent",children:"PHP"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{rows:3,className:"w-full p-2 border rounded bg-transparent",value:s,onChange:p=>t(p.target.value),placeholder:"Type your message..."}),e.jsx("button",{className:"bg-red-600 px-4 rounded",onClick:c,disabled:i,children:i?"Sending...":"Send"})]}),r&&e.jsxs("div",{className:"mt-4 p-4 bg-transparent rounded",children:[e.jsx("strong",{children:"Gemini AI:"}),e.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words max-w-full box-border",children:r})]})]})};function ot(){return e.jsxs(Hs,{children:[e.jsx(oa,{}),e.jsxs(Us,{children:[e.jsx(P,{path:"/",element:e.jsx(ie,{})}),e.jsx(P,{path:"/home",element:e.jsx(ie,{})}),e.jsx(P,{path:"/login",element:e.jsx(da,{})}),e.jsx(P,{path:"/signup",element:e.jsx(ma,{})}),e.jsx(P,{path:"/jobs",element:e.jsx(Na,{})}),e.jsx(P,{path:"/browser",element:e.jsx(va,{})}),e.jsx(P,{path:"/chatGPT",element:e.jsx(it,{})}),e.jsx(P,{path:"/description/:id",element:e.jsx($a,{})}),e.jsx(P,{path:"/Profile",element:e.jsx(Ja,{})}),e.jsx(P,{path:"/admin/companies",element:e.jsx(_,{children:e.jsx(Ua,{})})}),e.jsx(P,{path:"/admin/companies/create",element:e.jsx(_,{children:e.jsx(Oa,{})})}),e.jsx(P,{path:"/admin/companies/:id",element:e.jsx(_,{children:e.jsx(Ga,{})})}),e.jsx(P,{path:"/admin/job",element:e.jsx(_,{children:e.jsx(Qa,{})})}),e.jsx(P,{path:"/admin/job/create",element:e.jsx(_,{children:e.jsx(st,{})})}),e.jsx(P,{path:"/admin/job/:id/applicants",element:e.jsx(_,{children:e.jsx(lt,{})})})]}),e.jsx(Ma,{})]})}const ct={key:"root",version:1,storage:Zs},dt=Os({auth:la,job:ga,company:za,application:tt}),mt=Gs(ct,dt),ts=qs({reducer:mt,middleware:s=>s({serializableCheck:{ignoredActions:[Ms,Vs,Ys,Qs,Ks,Ws]}})}),pt=Xs(ts);ea.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsxs(sa,{store:ts,children:[e.jsx(aa,{loading:null,persistor:pt,children:e.jsx(ot,{})}),e.jsx(ta,{})]})}));
